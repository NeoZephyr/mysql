存储引擎层负责数据的存储和提取，支持 InnoDB、MyISAM、Memory 等多个存储引擎。存储引擎负责存储数据，提供读写接口。最常用的存储引擎是 InnoDB，它从 MySQL 5.5.5 版本开始成为了默认存储引擎


## MyISAM
1. 不支持事务
2. 支持表级锁
3. 存储表的总行数
4. 一个 MyISAM 表有三个文件：索引文件、表结构文件、数据文件
5. 采用非聚集索引：B+ 树的数据结构中存储的内容实际上是实际数据的地址值，也就是说它的索引和实际数据是分开的


## InnoDb
1. 支持事务
2. 支持行级锁
3. 不存储总行数
4. 主键索引采用聚集索引（索引的数据域存储数据文件本身），辅索引的数据域存储主键的值；因此从辅索引查找数据，需要先通过辅索引找到主键值，再访问辅索引；最好使用自增主键，防止插入数据时，为维持 B+ 树结构，文件的大调整


## Innodb 逻辑存储结构
### 表空间
InnoDB 提供了两种表空间存储数据的方式，一种是共享表空间，一种是独占表空间

InnoDB 默认会将其所有的表数据存储在一个共享表空间中，即 ibdata1。可以通过设置 innodb_file_per_table 参数为 1 开启独占表空间模式。开启之后，每个表都有自己独立的表空间物理文件，所有的数据以及索引都会存储在该文件中，这样方便备份以及恢复数据

### 段
表空间是由各个段组成的，段一般分为数据段、索引段和回滚段等。索引段是 B+ 树的非叶子节点，数据段是 B+ 树的叶子节点。回滚段是回滚数据

### 区/页
区是表空间的单元结构，每个区的大小为 1MB。而页是组成区的最小单元，页也是 InnoDB 存储引擎磁盘管理的最小单元，每个页的大小默认为 16KB。为了保证页的连续性，InnoDB 存储引擎每次从磁盘申请 4-5 个区

### 行
InnoDB 存储引擎是面向列的(row-oriented)，也就是说数据是按行进行存放的，每个页
存放的行记录也是有硬性定义的，最多允许存放 16KB/2-200 行，即 7992 行记录。
